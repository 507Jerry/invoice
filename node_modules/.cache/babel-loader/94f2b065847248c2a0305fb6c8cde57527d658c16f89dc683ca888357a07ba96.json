{"ast":null,"code":"import jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport { formatCurrency, formatDate, calculateLineSubtotal, calculateInvoiceTotal } from './invoiceUtils';\n\n/**\n * 生成PDF发票\n * @param {object} invoiceData - 发票数据\n * @param {object} translations - 翻译对象\n */\nexport const generatePDF = (invoiceData, translations) => {\n  const {\n    company,\n    client,\n    invoice,\n    items,\n    settings\n  } = invoiceData;\n  const {\n    includeGST,\n    gstRate\n  } = settings;\n  const totals = calculateInvoiceTotal(items, includeGST, gstRate);\n\n  // 创建PDF文档\n  const doc = new jsPDF('p', 'mm', 'a4');\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const pageHeight = doc.internal.pageSize.getHeight();\n  const margin = 20;\n  const contentWidth = pageWidth - 2 * margin;\n  let yPosition = margin;\n\n  // 设置字体\n  doc.setFont('helvetica');\n  doc.setFontSize(10);\n\n  // 添加页眉（每页都显示）\n  addHeader(doc, company, pageWidth, margin);\n\n  // 发票标题\n  doc.setFontSize(24);\n  doc.setFont('helvetica', 'bold');\n  doc.text(translations.invoice, pageWidth - margin - 30, yPosition);\n  yPosition += 20;\n\n  // 公司信息\n  doc.setFontSize(12);\n  doc.setFont('helvetica', 'bold');\n  doc.text(company.name, margin, yPosition);\n  yPosition += 8;\n  if (company.slogan) {\n    doc.setFontSize(10);\n    doc.setFont('helvetica', 'italic');\n    doc.text(company.slogan, margin, yPosition);\n    yPosition += 8;\n  }\n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`ABN: ${company.abn}`, margin, yPosition);\n  yPosition += 6;\n  // 修复多行地址重叠\n  const addressLines = (company.address || '').split(/\\r?\\n/);\n  addressLines.forEach(line => {\n    doc.text(line, margin, yPosition);\n    yPosition += 6;\n  });\n  doc.text(`${company.phone} | ${company.email}`, margin, yPosition);\n  yPosition += 20;\n\n  // 发票信息区域\n  const infoY = yPosition;\n\n  // 客户信息\n  doc.setFontSize(12);\n  doc.setFont('helvetica', 'bold');\n  doc.text(translations.invoiceTo, margin, infoY);\n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(client.name, margin, infoY + 8);\n  doc.text(client.address, margin, infoY + 14);\n  if (client.phone) {\n    doc.text(client.phone, margin, infoY + 20);\n  }\n\n  // 发票详情\n  const detailX = pageWidth - margin - 60;\n  const detailY = infoY;\n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  const details = [{\n    label: translations.invoiceNumber,\n    value: invoice.number\n  }, {\n    label: translations.invoiceDate,\n    value: formatDate(invoice.date)\n  }, {\n    label: translations.dueDate,\n    value: formatDate(invoice.dueDate)\n  }];\n  if (invoice.projectDescription) {\n    details.push({\n      label: translations.projectDescription,\n      value: invoice.projectDescription\n    });\n  }\n  if (invoice.poNumber) {\n    details.push({\n      label: translations.poNumber,\n      value: invoice.poNumber\n    });\n  }\n  details.forEach((detail, index) => {\n    const y = detailY + index * 6;\n    doc.text(detail.label + ':', detailX, y);\n    doc.text(detail.value, detailX + 40, y);\n  });\n  yPosition = Math.max(infoY + 30, detailY + details.length * 6 + 10);\n\n  // 明细表格\n  const tableData = items.map(item => [item.name, item.quantity.toString(), formatCurrency(item.unitPrice), formatCurrency(calculateLineSubtotal(item.quantity, item.unitPrice))]);\n  const tableHeaders = [translations.itemName, translations.quantity, translations.unitPrice, translations.subtotal];\n\n  // 计算表格位置和高度\n  const tableY = yPosition;\n  const tableHeight = 10 + items.length * 8; // 估算表格高度\n  const remainingHeight = pageHeight - tableY - 60; // 预留总计和页脚空间\n\n  // 如果表格太高，需要分页\n  if (tableHeight > remainingHeight) {\n    // 第一页表格\n    const firstPageRows = Math.floor(remainingHeight / 8) - 1;\n    const firstPageData = tableData.slice(0, firstPageRows);\n    doc.autoTable({\n      head: [tableHeaders],\n      body: firstPageData,\n      startY: tableY,\n      margin: {\n        left: margin,\n        right: margin\n      },\n      styles: {\n        fontSize: 9,\n        cellPadding: 3\n      },\n      headStyles: {\n        fillColor: [52, 152, 219],\n        textColor: 255,\n        fontStyle: 'bold'\n      },\n      columnStyles: {\n        0: {\n          cellWidth: 80\n        },\n        1: {\n          cellWidth: 20,\n          halign: 'center'\n        },\n        2: {\n          cellWidth: 30,\n          halign: 'right'\n        },\n        3: {\n          cellWidth: 30,\n          halign: 'right'\n        }\n      }\n    });\n\n    // 添加后续页面的表格\n    const remainingData = tableData.slice(firstPageRows);\n    let currentPage = 1;\n    while (remainingData.length > 0) {\n      doc.addPage();\n\n      // 添加页眉\n      addHeader(doc, company, pageWidth, margin);\n\n      // 计算当前页可容纳的行数\n      const rowsPerPage = Math.floor((pageHeight - margin - 60) / 8) - 1;\n      const pageData = remainingData.slice(0, rowsPerPage);\n      doc.autoTable({\n        head: [tableHeaders],\n        body: pageData,\n        startY: margin + 20,\n        margin: {\n          left: margin,\n          right: margin\n        },\n        styles: {\n          fontSize: 9,\n          cellPadding: 3\n        },\n        headStyles: {\n          fillColor: [52, 152, 219],\n          textColor: 255,\n          fontStyle: 'bold'\n        },\n        columnStyles: {\n          0: {\n            cellWidth: 80\n          },\n          1: {\n            cellWidth: 20,\n            halign: 'center'\n          },\n          2: {\n            cellWidth: 30,\n            halign: 'right'\n          },\n          3: {\n            cellWidth: 30,\n            halign: 'right'\n          }\n        }\n      });\n      remainingData.splice(0, rowsPerPage);\n      currentPage++;\n    }\n\n    // 最后一页添加总计\n    addTotalsAndFooter(doc, totals, includeGST, gstRate, translations, pageWidth, margin, invoiceData);\n  } else {\n    // 单页表格\n    doc.autoTable({\n      head: [tableHeaders],\n      body: tableData,\n      startY: tableY,\n      margin: {\n        left: margin,\n        right: margin\n      },\n      styles: {\n        fontSize: 9,\n        cellPadding: 3\n      },\n      headStyles: {\n        fillColor: [52, 152, 219],\n        textColor: 255,\n        fontStyle: 'bold'\n      },\n      columnStyles: {\n        0: {\n          cellWidth: 80\n        },\n        1: {\n          cellWidth: 20,\n          halign: 'center'\n        },\n        2: {\n          cellWidth: 30,\n          halign: 'right'\n        },\n        3: {\n          cellWidth: 30,\n          halign: 'right'\n        }\n      }\n    });\n\n    // 添加总计和页脚\n    addTotalsAndFooter(doc, totals, includeGST, gstRate, translations, pageWidth, margin, invoiceData);\n  }\n\n  // NOTE模块\n  if (invoiceData.note && invoiceData.note.trim()) {\n    doc.setFontSize(11);\n    doc.setFont('helvetica', 'bold');\n    doc.text(translations.note, margin, yPosition);\n    yPosition += 7;\n    doc.setFont('helvetica', 'normal');\n    const noteLines = doc.splitTextToSize(invoiceData.note, pageWidth - 2 * margin);\n    doc.text(noteLines, margin, yPosition);\n    yPosition += noteLines.length * 6 + 6;\n  }\n\n  // 保存PDF\n  const fileName = `invoice_${invoice.number.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`;\n  doc.save(fileName);\n};\n\n/**\n * 添加页眉\n * @param {object} doc - PDF文档对象\n * @param {object} company - 公司信息\n * @param {number} pageWidth - 页面宽度\n * @param {number} margin - 边距\n */\nconst addHeader = (doc, company, pageWidth, margin) => {\n  doc.setFontSize(8);\n  doc.setFont('helvetica', 'normal');\n  // 删除左上角ABN显示\n  // doc.text(`ABN: ${company.abn}`, margin, 15);\n};\n\n/**\n * 添加总计和页脚\n * @param {object} doc - PDF文档对象\n * @param {object} totals - 总计信息\n * @param {boolean} includeGST - 是否包含GST\n * @param {number} gstRate - GST税率\n * @param {object} translations - 翻译对象\n * @param {number} pageWidth - 页面宽度\n * @param {number} margin - 边距\n * @param {object} invoiceData - 发票数据\n */\nconst addTotalsAndFooter = (doc, totals, includeGST, gstRate, translations, pageWidth, margin, invoiceData) => {\n  var _invoiceData$payment, _invoiceData$payment2;\n  const pageHeight = doc.internal.pageSize.getHeight();\n  let yPosition = pageHeight - 80;\n\n  // 总计\n  const totalX = pageWidth - margin - 60;\n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  if (includeGST) {\n    doc.text(`${translations.subtotal}:`, totalX, yPosition);\n    doc.text(formatCurrency(totals.subtotal), totalX + 40, yPosition, {\n      align: 'right'\n    });\n    yPosition += 8;\n    doc.text(`${translations.gst} (${(gstRate * 100).toFixed(0)}%):`, totalX, yPosition);\n    doc.text(formatCurrency(totals.gst), totalX + 40, yPosition, {\n      align: 'right'\n    });\n    yPosition += 8;\n  }\n  doc.setFontSize(12);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`${translations.total}:`, totalX, yPosition);\n  doc.text(formatCurrency(totals.total), totalX + 40, yPosition, {\n    align: 'right'\n  });\n\n  // 页脚\n  yPosition = pageHeight - 40;\n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'bold');\n  doc.text(translations.paymentInfo, margin, yPosition);\n  doc.setFontSize(9);\n  doc.setFont('helvetica', 'normal');\n  // 动态显示银行和BPAY\n  if ((_invoiceData$payment = invoiceData.payment) !== null && _invoiceData$payment !== void 0 && _invoiceData$payment.showBank) {\n    doc.text(`${translations.bankAccount}: ${invoiceData.payment.bankAccount}`, margin, yPosition + 8);\n    doc.text(`${translations.bsb}: ${invoiceData.payment.bsb}`, margin, yPosition + 14);\n    doc.text(`${translations.accountNumber}: ${invoiceData.payment.accountNumber}`, margin, yPosition + 20);\n    yPosition += 20;\n  }\n  if ((_invoiceData$payment2 = invoiceData.payment) !== null && _invoiceData$payment2 !== void 0 && _invoiceData$payment2.showBpay) {\n    doc.text(`BPAY Number: ${invoiceData.payment.bpayNumber}`, margin, yPosition + 8);\n  }\n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'bold');\n  doc.text(translations.thankYou, pageWidth - margin - 30, yPosition + 20, {\n    align: 'right'\n  });\n};","map":{"version":3,"names":["jsPDF","formatCurrency","formatDate","calculateLineSubtotal","calculateInvoiceTotal","generatePDF","invoiceData","translations","company","client","invoice","items","settings","includeGST","gstRate","totals","doc","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","margin","contentWidth","yPosition","setFont","setFontSize","addHeader","text","name","slogan","abn","addressLines","address","split","forEach","line","phone","email","infoY","invoiceTo","detailX","detailY","details","label","invoiceNumber","value","number","invoiceDate","date","dueDate","projectDescription","push","poNumber","detail","index","y","Math","max","length","tableData","map","item","quantity","toString","unitPrice","tableHeaders","itemName","subtotal","tableY","tableHeight","remainingHeight","firstPageRows","floor","firstPageData","slice","autoTable","head","body","startY","left","right","styles","fontSize","cellPadding","headStyles","fillColor","textColor","fontStyle","columnStyles","cellWidth","halign","remainingData","currentPage","addPage","rowsPerPage","pageData","splice","addTotalsAndFooter","note","trim","noteLines","splitTextToSize","fileName","replace","save","_invoiceData$payment","_invoiceData$payment2","totalX","align","gst","toFixed","total","paymentInfo","payment","showBank","bankAccount","bsb","accountNumber","showBpay","bpayNumber","thankYou"],"sources":["C:/Users/Guest1/invoice01/src/utils/pdfGenerator.js"],"sourcesContent":["import jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport { formatCurrency, formatDate, calculateLineSubtotal, calculateInvoiceTotal } from './invoiceUtils';\n\n/**\n * 生成PDF发票\n * @param {object} invoiceData - 发票数据\n * @param {object} translations - 翻译对象\n */\nexport const generatePDF = (invoiceData, translations) => {\n  const { company, client, invoice, items, settings } = invoiceData;\n  const { includeGST, gstRate } = settings;\n  const totals = calculateInvoiceTotal(items, includeGST, gstRate);\n\n  // 创建PDF文档\n  const doc = new jsPDF('p', 'mm', 'a4');\n  const pageWidth = doc.internal.pageSize.getWidth();\n  const pageHeight = doc.internal.pageSize.getHeight();\n  const margin = 20;\n  const contentWidth = pageWidth - 2 * margin;\n  \n  let yPosition = margin;\n\n  // 设置字体\n  doc.setFont('helvetica');\n  doc.setFontSize(10);\n\n  // 添加页眉（每页都显示）\n  addHeader(doc, company, pageWidth, margin);\n\n  // 发票标题\n  doc.setFontSize(24);\n  doc.setFont('helvetica', 'bold');\n  doc.text(translations.invoice, pageWidth - margin - 30, yPosition);\n  yPosition += 20;\n\n  // 公司信息\n  doc.setFontSize(12);\n  doc.setFont('helvetica', 'bold');\n  doc.text(company.name, margin, yPosition);\n  yPosition += 8;\n\n  if (company.slogan) {\n    doc.setFontSize(10);\n    doc.setFont('helvetica', 'italic');\n    doc.text(company.slogan, margin, yPosition);\n    yPosition += 8;\n  }\n\n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`ABN: ${company.abn}`, margin, yPosition);\n  yPosition += 6;\n  // 修复多行地址重叠\n  const addressLines = (company.address || '').split(/\\r?\\n/);\n  addressLines.forEach(line => {\n    doc.text(line, margin, yPosition);\n    yPosition += 6;\n  });\n  doc.text(`${company.phone} | ${company.email}`, margin, yPosition);\n  yPosition += 20;\n\n  // 发票信息区域\n  const infoY = yPosition;\n  \n  // 客户信息\n  doc.setFontSize(12);\n  doc.setFont('helvetica', 'bold');\n  doc.text(translations.invoiceTo, margin, infoY);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(client.name, margin, infoY + 8);\n  doc.text(client.address, margin, infoY + 14);\n  if (client.phone) {\n    doc.text(client.phone, margin, infoY + 20);\n  }\n\n  // 发票详情\n  const detailX = pageWidth - margin - 60;\n  const detailY = infoY;\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  \n  const details = [\n    { label: translations.invoiceNumber, value: invoice.number },\n    { label: translations.invoiceDate, value: formatDate(invoice.date) },\n    { label: translations.dueDate, value: formatDate(invoice.dueDate) }\n  ];\n\n  if (invoice.projectDescription) {\n    details.push({ label: translations.projectDescription, value: invoice.projectDescription });\n  }\n  if (invoice.poNumber) {\n    details.push({ label: translations.poNumber, value: invoice.poNumber });\n  }\n\n  details.forEach((detail, index) => {\n    const y = detailY + (index * 6);\n    doc.text(detail.label + ':', detailX, y);\n    doc.text(detail.value, detailX + 40, y);\n  });\n\n  yPosition = Math.max(infoY + 30, detailY + (details.length * 6) + 10);\n\n  // 明细表格\n  const tableData = items.map(item => [\n    item.name,\n    item.quantity.toString(),\n    formatCurrency(item.unitPrice),\n    formatCurrency(calculateLineSubtotal(item.quantity, item.unitPrice))\n  ]);\n\n  const tableHeaders = [\n    translations.itemName,\n    translations.quantity,\n    translations.unitPrice,\n    translations.subtotal\n  ];\n\n  // 计算表格位置和高度\n  const tableY = yPosition;\n  const tableHeight = 10 + (items.length * 8); // 估算表格高度\n  const remainingHeight = pageHeight - tableY - 60; // 预留总计和页脚空间\n\n  // 如果表格太高，需要分页\n  if (tableHeight > remainingHeight) {\n    // 第一页表格\n    const firstPageRows = Math.floor(remainingHeight / 8) - 1;\n    const firstPageData = tableData.slice(0, firstPageRows);\n    \n    doc.autoTable({\n      head: [tableHeaders],\n      body: firstPageData,\n      startY: tableY,\n      margin: { left: margin, right: margin },\n      styles: {\n        fontSize: 9,\n        cellPadding: 3\n      },\n      headStyles: {\n        fillColor: [52, 152, 219],\n        textColor: 255,\n        fontStyle: 'bold'\n      },\n      columnStyles: {\n        0: { cellWidth: 80 },\n        1: { cellWidth: 20, halign: 'center' },\n        2: { cellWidth: 30, halign: 'right' },\n        3: { cellWidth: 30, halign: 'right' }\n      }\n    });\n\n    // 添加后续页面的表格\n    const remainingData = tableData.slice(firstPageRows);\n    let currentPage = 1;\n    \n    while (remainingData.length > 0) {\n      doc.addPage();\n      \n      // 添加页眉\n      addHeader(doc, company, pageWidth, margin);\n      \n      // 计算当前页可容纳的行数\n      const rowsPerPage = Math.floor((pageHeight - margin - 60) / 8) - 1;\n      const pageData = remainingData.slice(0, rowsPerPage);\n      \n      doc.autoTable({\n        head: [tableHeaders],\n        body: pageData,\n        startY: margin + 20,\n        margin: { left: margin, right: margin },\n        styles: {\n          fontSize: 9,\n          cellPadding: 3\n        },\n        headStyles: {\n          fillColor: [52, 152, 219],\n          textColor: 255,\n          fontStyle: 'bold'\n        },\n        columnStyles: {\n          0: { cellWidth: 80 },\n          1: { cellWidth: 20, halign: 'center' },\n          2: { cellWidth: 30, halign: 'right' },\n          3: { cellWidth: 30, halign: 'right' }\n        }\n      });\n      \n      remainingData.splice(0, rowsPerPage);\n      currentPage++;\n    }\n    \n    // 最后一页添加总计\n    addTotalsAndFooter(doc, totals, includeGST, gstRate, translations, pageWidth, margin, invoiceData);\n  } else {\n    // 单页表格\n    doc.autoTable({\n      head: [tableHeaders],\n      body: tableData,\n      startY: tableY,\n      margin: { left: margin, right: margin },\n      styles: {\n        fontSize: 9,\n        cellPadding: 3\n      },\n      headStyles: {\n        fillColor: [52, 152, 219],\n        textColor: 255,\n        fontStyle: 'bold'\n      },\n      columnStyles: {\n        0: { cellWidth: 80 },\n        1: { cellWidth: 20, halign: 'center' },\n        2: { cellWidth: 30, halign: 'right' },\n        3: { cellWidth: 30, halign: 'right' }\n      }\n    });\n\n    // 添加总计和页脚\n    addTotalsAndFooter(doc, totals, includeGST, gstRate, translations, pageWidth, margin, invoiceData);\n  }\n\n  // NOTE模块\n  if (invoiceData.note && invoiceData.note.trim()) {\n    doc.setFontSize(11);\n    doc.setFont('helvetica', 'bold');\n    doc.text(translations.note, margin, yPosition);\n    yPosition += 7;\n    doc.setFont('helvetica', 'normal');\n    const noteLines = doc.splitTextToSize(invoiceData.note, pageWidth - 2 * margin);\n    doc.text(noteLines, margin, yPosition);\n    yPosition += noteLines.length * 6 + 6;\n  }\n\n  // 保存PDF\n  const fileName = `invoice_${invoice.number.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`;\n  doc.save(fileName);\n};\n\n/**\n * 添加页眉\n * @param {object} doc - PDF文档对象\n * @param {object} company - 公司信息\n * @param {number} pageWidth - 页面宽度\n * @param {number} margin - 边距\n */\nconst addHeader = (doc, company, pageWidth, margin) => {\n  doc.setFontSize(8);\n  doc.setFont('helvetica', 'normal');\n  // 删除左上角ABN显示\n  // doc.text(`ABN: ${company.abn}`, margin, 15);\n};\n\n/**\n * 添加总计和页脚\n * @param {object} doc - PDF文档对象\n * @param {object} totals - 总计信息\n * @param {boolean} includeGST - 是否包含GST\n * @param {number} gstRate - GST税率\n * @param {object} translations - 翻译对象\n * @param {number} pageWidth - 页面宽度\n * @param {number} margin - 边距\n * @param {object} invoiceData - 发票数据\n */\nconst addTotalsAndFooter = (doc, totals, includeGST, gstRate, translations, pageWidth, margin, invoiceData) => {\n  const pageHeight = doc.internal.pageSize.getHeight();\n  let yPosition = pageHeight - 80;\n\n  // 总计\n  const totalX = pageWidth - margin - 60;\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  \n  if (includeGST) {\n    doc.text(`${translations.subtotal}:`, totalX, yPosition);\n    doc.text(formatCurrency(totals.subtotal), totalX + 40, yPosition, { align: 'right' });\n    yPosition += 8;\n    \n    doc.text(`${translations.gst} (${(gstRate * 100).toFixed(0)}%):`, totalX, yPosition);\n    doc.text(formatCurrency(totals.gst), totalX + 40, yPosition, { align: 'right' });\n    yPosition += 8;\n  }\n  \n  doc.setFontSize(12);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`${translations.total}:`, totalX, yPosition);\n  doc.text(formatCurrency(totals.total), totalX + 40, yPosition, { align: 'right' });\n\n  // 页脚\n  yPosition = pageHeight - 40;\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'bold');\n  doc.text(translations.paymentInfo, margin, yPosition);\n  \n  doc.setFontSize(9);\n  doc.setFont('helvetica', 'normal');\n  // 动态显示银行和BPAY\n  if (invoiceData.payment?.showBank) {\n    doc.text(`${translations.bankAccount}: ${invoiceData.payment.bankAccount}`, margin, yPosition + 8);\n    doc.text(`${translations.bsb}: ${invoiceData.payment.bsb}`, margin, yPosition + 14);\n    doc.text(`${translations.accountNumber}: ${invoiceData.payment.accountNumber}`, margin, yPosition + 20);\n    yPosition += 20;\n  }\n  if (invoiceData.payment?.showBpay) {\n    doc.text(`BPAY Number: ${invoiceData.payment.bpayNumber}`, margin, yPosition + 8);\n  }\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'bold');\n  doc.text(translations.thankYou, pageWidth - margin - 30, yPosition + 20, { align: 'right' });\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}